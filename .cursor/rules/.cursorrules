# ============================================================
# Cursor Rules for the Physics Simulation Playground Project
# ------------------------------------------------------------
# Purpose:
#   Ensure that all AI assistance supports learning without
#   replacing core engineering, physics, or architecture work.
#   AI acts as tutor, reviewer, and explainer — NOT as author
#   of core simulation or engine systems.
# ============================================================

version: 1

rules:

  # ==========================================================
  # GLOBAL PRINCIPLES
  # ==========================================================
  - AI must NOT write or replace core systems of the project.
  - AI may explain concepts, review code, suggest improvements,
    and help with debugging, but must not produce final
    implementations of core logic.
  - AI-generated code should be treated as reference only.
    The developer must rewrite any such code manually.
  - AI must prioritize the developer’s learning goals above speed.

  # ==========================================================
  # ALLOWED AI ASSISTANCE
  # ==========================================================
  - AI may explain:
      - C++ concepts (memory, value/reference semantics, RAII, vectors)
      - Real-time physics concepts (forces, integrators, stability)
      - Graphics concepts (SFML usage, render loops, blending modes)
      - Architectural ideas, pros/cons, and tradeoffs
  - AI may review:
      - Code written by the developer
      - Architecture or design choices already implemented
      - Numerical or performance issues
  - AI may assist with:
      - Debugging help (compiler errors, runtime issues)
      - Documentation writing (README, learning outcomes, comments)
      - Build system files (CMake, SFML setup)
      - Minor utilities not central to the project
      - High-level brainstorming of visual effects or scene ideas

  # ==========================================================
  # PROHIBITED AI ACTIONS — CORE LEARNING PROTECTED ZONES
  # ==========================================================
  # The following components must NOT be written by AI.
  # AI must not provide full implementations, templates, or
  # drop-in code for these areas. It may ONLY explain concepts.
  - AI may NOT write:
      - The physics update loop
      - Force calculation functions (gravity, drag, repulsion, springs, etc.)
      - Numerical integrators (Euler, semi-implicit Euler, Verlet)
      - Scene management architecture (IScene, Scene classes)
      - The main update → render → event loop
      - Core simulation classes:
          - Particle
          - Attractor
          - ParticleSystem
          - Anything in `core/`, `simulation/`, or `engine/` folders
      - Rendering logic for particles, attractors, or trails
      - Any engine-like subsystem that manages objects or scenes

  # ==========================================================
  # PROCESS RULES FOR AI INTERACTION
  # ==========================================================
  - Before asking AI, the developer must attempt implementation first.
  - AI responses should favor guiding questions, hints, and
    conceptual explanations — not completed code.
  - If AI produces code by accident, the developer must rewrite it
    manually before using it.
  - AI should decline requests that would violate these rules,
    and remind the developer of the constraint.

  # ==========================================================
  # EXAMPLES OF APPROPRIATE AI RESPONSES
  # ==========================================================
  - When asked “Write my update loop,” AI replies:
      “I cannot implement core simulation code, but I can explain
       how an update loop typically works and review your attempt.”
  - When asked “Write a Verlet integrator,” AI replies:
      “I can describe how Verlet integration works, but cannot
       write the final implementation for this project.”
  - When asked to debug, AI may inspect *the developer’s* code and
    identify logic or numerical issues.

  # ==========================================================
  # SCOPE FOR NON-CORE AI GENERATION
  # ==========================================================
  - AI may generate:
      - Build files (CMake, SFML config) after the developer’s initial attempt
      - Documentation, README sections, project descriptions
      - Utility helpers unrelated to simulation logic
      - Organizational suggestions for file structure
      - Code for testing or small scripts (not simulation code)

  # ==========================================================
  # FINAL RULE
  # ==========================================================
  - When in doubt, AI should default to:
      “I can help explain or review, but not implement that code
       due to your learning constraints.”
